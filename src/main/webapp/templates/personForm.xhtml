<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
                    
    <h:panelGrid columns="1">
        <p:outputLabel for="firstname" value="First Name:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="firstname"              
            requiredMessage="Please enter your First Name"
            required="true" value="#{person.firstname}" rendered="#{bean.editMode}"></p:inputText>
            <p:message for="firstname" />
            <h:outputText value="#{person.firstname}" rendered="#{not bean.editMode}" />
        </h:panelGroup>
     
        <p:outputLabel for="lastname" value="Last Name:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="lastname"  required="true"
            requiredMessage="Please enter your Last Name"
            value="#{person.lastname}" rendered="#{bean.editMode}"
            ></p:inputText>
            <p:message for="lastname" rendered="#{bean.editMode}"/>
            <h:outputText value="#{person.lastname}" rendered="#{not bean.editMode}" />
        </h:panelGroup>
        
        <p:outputLabel for="phone" value="Phone:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputMask id="phone"  mask="(999) 99999999" 
            requiredMessage="Please enter your phone number"
            value="#{person.phonenumber}" rendered="#{bean.editMode}"
            required="true">
            </p:inputMask>
            <p:message for="phone" rendered="#{bean.editMode}"/>
            <h:outputText value="#{person.phonenumber}" rendered="#{not bean.editMode}" />
        </h:panelGroup>
        
        <p:outputLabel for="email" value="Email:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="email" required="true" 
            requiredMessage="Please enter your email address."
            validatorMessage="Invalid email format" rendered="#{bean.editMode}"
            value="#{person.email}">
                <f:validateRegex for="email"
                  pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" ></f:validateRegex>
            </p:inputText>
            <p:message for="email" rendered="#{bean.editMode}"/>
            <h:outputText value="#{person.email}" rendered="#{not bean.editMode}" />

        </h:panelGroup>
        
        <p:outputLabel for="house_name" value="House Name:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="house_name" required="true"           
            requiredMessage="Please enter your House Name" rendered="#{bean.editMode}"
            value="#{address_.house_name}">
            </p:inputText>
            <p:message for="house_name" rendered="#{bean.editMode}"/>
            <h:outputText value="#{address_.house_name}" rendered="#{not bean.editMode}" />
        </h:panelGroup>
        
        <p:outputLabel for="address_line_1" value="Address Line 1:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="address_line_1" required="true"           
            requiredMessage="Please enter your Address Line 1" rendered="#{bean.editMode}"
            value="#{address_.address_line_1}">
            </p:inputText>
            <p:message for="address_line_1" rendered="#{bean.editMode}"/>
            <h:outputText value="#{address_.address_line_1}" rendered="#{not bean.editMode}" />
        </h:panelGroup>
        
        <p:outputLabel for="address_line_2" value="Address Line 2:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="address_line_2" value="#{address_.address_line_2}" rendered="#{bean.editMode}">
            </p:inputText>
            <h:outputText value="#{address_.address_line_2}" rendered="#{not bean.editMode}" />
        </h:panelGroup>
              
        <p:outputLabel for="town" value="Town:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="town" required="true"           
            requiredMessage="Please enter your Town" rendered="#{bean.editMode}"
            value="#{address_.town}">
            </p:inputText>
            <p:message for="town" rendered="#{bean.editMode}"/>
            <h:outputText value="#{address_.town}" rendered="#{not bean.editMode}" />
        </h:panelGroup>
                        
        <p:outputLabel for="county" value="County" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="county" required="true"           
            requiredMessage="Please enter your County" rendered="#{bean.editMode}"
            value="#{address_.county}">
            </p:inputText>
            <p:message for="county" rendered="#{bean.editMode}"/>
            <h:outputText value="#{address_.county}" rendered="#{not bean.editMode}" />
        </h:panelGroup>
                                
        <p:outputLabel for="postcode" value="Postcode" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="postcode" required="true"           
            requiredMessage="Please enter your Postcode" rendered="#{bean.editMode}"
            value="#{address_.postcode}">
            </p:inputText>
            <p:message for="postcode" rendered="#{bean.editMode}"/>
            <h:outputText value="#{address_.postcode}" rendered="#{not bean.editMode}" />
        </h:panelGroup>
        
        <p:outputLabel for="username" value="Username:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="username" required="true"           
            requiredMessage="Please enter your Username:" rendered="#{bean.editMode}"
            value="#{person.username}">
            </p:inputText>
            <p:message for="username" rendered="#{bean.editMode}"/>
            <h:outputText value="#{person.username}" rendered="#{not bean.editMode}" />
        </h:panelGroup>
    </h:panelGrid>
</html>

