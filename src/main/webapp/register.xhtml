<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Person</title>
    </h:head>
    <h:body>

<h:form>
    <h:panelGrid columns="2" id="matchGrid">
        
        <p:outputLabel for="firstname" value="First Name:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="firstname"              
            requiredMessage="Please enter your First Name"
            required="true" value="#{personCtrl.newUser.firstname}"></p:inputText>
            <p:message for="firstname" />
        </h:panelGroup>
     
        <p:outputLabel for="lastname" value="Last Name:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="lastname"  required="true"
            requiredMessage="Please enter your Last Name"
            value="#{personCtrl.newUser.lastname}"
            ></p:inputText>
            <p:message for="lastname" />
        </h:panelGroup>
        
        
        
        <p:outputLabel for="phone" value="Phone:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputMask id="phone"  mask="(999) 999-9999" 
            requiredMessage="Please enter your phone number"
            value="#{personCtrl.newUser.phonenumber}"
            required="true">
            </p:inputMask>
            <p:message for="phone" />
        </h:panelGroup>
        
        <p:outputLabel for="email" value="Email:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="email" required="true" 
            requiredMessage="Please enter your email address."
            validatorMessage="Invalid email format"
            value="#{personCtrl.newUser.email}">
                <f:validateRegex for="email"
                  pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" ></f:validateRegex>

            </p:inputText>
            <p:message for="email" />
        </h:panelGroup>
        
        
        
        
        
        
        
        
        
        
        
        
        <p:outputLabel for="address_line_1" value="Address Line 1:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="address_line_1" required="true"           
            requiredMessage="Please enter your Address Line 1"
            value="#{personCtrl.newAddress.address_line_1}">
            </p:inputText>
            <p:message for="address_line_1" />
        </h:panelGroup>
        
        <p:outputLabel for="address_line_2" value="Address Line 2:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="address_line_2"          
            value="#{personCtrl.newAddress.address_line_2}">
            </p:inputText>
        </h:panelGroup>
              
        <p:outputLabel for="town" value="Town:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="town" required="true"           
            requiredMessage="Please enter your Town"
            value="#{personCtrl.newAddress.town}">
            </p:inputText>
            <p:message for="town" />
        </h:panelGroup>
                        
        <p:outputLabel for="county" value="County" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="county" required="true"           
            requiredMessage="Please enter your County"
            value="#{personCtrl.newAddress.county}">
            </p:inputText>
            <p:message for="county" />
        </h:panelGroup>
                                
        <p:outputLabel for="postcode" value="Postcode" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="postcode" required="true"           
            requiredMessage="Please enter your Postcode"
            value="#{personCtrl.newAddress.postcode}">
            </p:inputText>
            <p:message for="postcode" />
        </h:panelGroup>
                                        
                          
        <p:outputLabel for="username" value="Username:" ></p:outputLabel>
        <h:panelGroup>
            <p:inputText id="username" required="true"           
            requiredMessage="Please enter your Username:"
            value="#{personCtrl.newUser.username}">
            </p:inputText>
            <p:message for="username" />
        </h:panelGroup>
        
        
        
        
        
        
        
        
        
        
        


        
        
        <p:outputLabel for="pwd1" value="Password:" ></p:outputLabel>
        <h:panelGroup>
            <p:password id="pwd1"  match="con_pwd1" 
            requiredMessage="Please enter your Password"
            label="Password 1" required="true" 
            validatorMessage="Passwords needs to match"
            value="#{personCtrl.newUser.password}"
            ></p:password>
            <p:message for="pwd1" />

         </h:panelGroup>

        <p:outputLabel for="con_pwd1" value="Verify password" ></p:outputLabel>
        <h:panelGroup>
            <p:password id="con_pwd1" 
            requiredMessage="Please Verify your Password"
            label="con_password" required="true" ></p:password>
            <p:message for="con_pwd1" />
        </h:panelGroup>

        
        
        
        <p:commandButton update="matchGrid" value="Register" ajax="true" action="#{personCtrl.registerUser()}"/>
    </h:panelGrid>
</h:form>

    </h:body>
</html>

